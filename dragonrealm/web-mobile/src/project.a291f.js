window.__require=function t(e,i,n){function o(c,a){if(!i[c]){if(!e[c]){var r=c.split("/");if(r=r[r.length-1],!e[r]){var h="function"==typeof __require&&__require;if(!a&&h)return h(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+c+"'")}c=r}var l=i[c]={exports:{}};e[c][0].call(l.exports,function(t){return o(e[c][1][t]||t)},l,l.exports,t,e,i,n)}return i[c].exports}for(var s="function"==typeof __require&&__require,c=0;c<n.length;c++)o(n[c]);return o}({Background:[function(t,e,i){"use strict";cc._RF.push(e,"9a083LEt3BLlo9uBRwW05OC","Background"),cc.Class({extends:cc.Component,properties:{Player:{default:null,type:cc.Node},Background_L1:{default:[],type:cc.Node},Background_L2:{default:[],type:cc.Node},Background_L3:{default:[],type:cc.Node},Background_L4:{default:[],type:cc.Node},Background_L5:{default:[],type:cc.Node},Background_L6:{default:[],type:cc.Node},BackgroundMusic:{default:[],type:cc.AudioClip}},start:function(){this.moveSpeed=0,this.scene_num=0,this.cut_line_01=2e3,this.cut_line_02=4e3},update:function(t){this.moveSpeed=this.Player.getComponent("Player").Speed;var e=0,i=this.Player.getComponent("Player").getMetre();for(e=0;e<2;e++)this.Background_L1[e].x-=this.moveSpeed/10,this.Background_L1[e].x<=-1203&&(this.Background_L1[e].x+=2406);for(0==this.scene_num&&(cc.audioEngine.playMusic(this.BackgroundMusic[0],!0),this.scene_num=1),e=0;e<2;e++)this.Background_L2[e].x-=this.moveSpeed/5,this.Background_L2[e].x<=-1486&&(this.Background_L2[e].x+=2972);for(e=0;e<2;e++)this.Background_L3[e].x-=this.moveSpeed,this.Background_L3[e].x<=-1203&&(this.Background_L3[e].x+=2406);if(this.Background_L4[0].x<0&&1==this.scene_num&&(cc.audioEngine.playMusic(this.BackgroundMusic[1],!0),this.Player.getComponent("Player").Speed+=2,this.scene_num=2),i>this.cut_line_01)for(0==this.Background_L4[0].active&&this.Background_L4[0].x>0&&(this.Background_L3[0].x>this.Background_L3[1].x?this.Background_L4[0].x=this.Background_L3[0].x:this.Background_L4[0].x=this.Background_L3[1].x,this.Background_L4[1].x=this.Background_L4[0].x+this.Background_L4[0].width,this.Background_L4[2].x=this.Background_L4[1].x+this.Background_L4[1].width,this.Background_L4[0].active=!0,this.Background_L4[1].active=!0,this.Background_L4[2].active=!0),this.Background_L4[0].x>-1500?this.Background_L4[0].x-=this.moveSpeed:(this.Background_L4[0].active=!1,this.Background_L2[0].active=!1,this.Background_L2[1].active=!1,this.Background_L2[0].active=!1,this.Background_L3[1].active=!1),e=1;e<3;e++)this.Background_L4[e].x-=this.moveSpeed,this.Background_L4[e].x<=-2345&&(i<this.cut_line_02?this.Background_L4[e].x+=3690:this.Background_L4[e].active=!1);if(this.Background_L4[3].x<-this.Background_L4[3].width&&2==this.scene_num&&(cc.audioEngine.playMusic(this.BackgroundMusic[2],!0),this.Player.getComponent("Player").Speed+=2,this.scene_num=3),i>this.cut_line_02){for(0==this.Background_L4[3].active&&this.Background_L4[3].x>0&&(this.Background_L4[1].x>this.Background_L4[2].x?this.Background_L4[3].x=this.Background_L4[1].x+this.Background_L4[1].width:this.Background_L4[3].x=this.Background_L4[2].x+this.Background_L4[2].width,this.Background_L5[0].x=0,this.Background_L5[1].x=this.Background_L5[0].x+this.Background_L5[0].width,this.Background_L6[0].x=this.Background_L4[3].x+this.Background_L4[3].width,this.Background_L6[1].x=this.Background_L6[0].x+this.Background_L6[0].width,this.Background_L4[3].active=!0,this.Background_L5[0].active=!0,this.Background_L5[1].active=!0,this.Background_L6[0].active=!0,this.Background_L6[1].active=!0),this.Background_L4[3].x>-1500?this.Background_L4[3].x-=this.moveSpeed:(this.Background_L4[3].active=!1,this.Background_L4[1].active=!1,this.Background_L4[2].active=!1),e=0;e<2;e++)this.Background_L5[e].x-=this.moveSpeed/5,this.Background_L5[e].x<=-1620&&(this.Background_L5[e].x+=2240);for(e=0;e<2;e++)this.Background_L6[e].x-=this.moveSpeed,this.Background_L6[e].x<=-this.Background_L6[e].width-500&&(this.Background_L6[e].x+=2*this.Background_L6[e].width)}}}),cc._RF.pop()},{}],CoinsGroup:[function(t,e,i){"use strict";cc._RF.push(e,"faf37oRVoJMI68Ho94tjQOd","CoinsGroup"),cc.Class({extends:cc.Component,properties:{IntervaSpace:1,Player:{default:null,type:cc.Component},GroupList:{default:[],type:cc.Node}},start:function(){for(var t=Math.floor(Math.random()*this.GroupList.length),e=0;e<this.GroupList.length;e++)this.GroupList[e].active=e==t},update:function(t){this.node.x-=this.Player.getComponent("Player").Speed,this.node.x<-cc.winSize.width/2-200&&this.node.destroy()}}),cc._RF.pop()},{}],Coin:[function(t,e,i){"use strict";cc._RF.push(e,"779bboeSUJHEZGJNxDyNGkm","Coin");var n=t("Global");cc.Class({extends:cc.Component,properties:{Coins:1,Textures:{default:[],type:cc.Node},Audio:{default:null,type:cc.AudioClip}},onEnable:function(){if(this.player=n.Player,this.player_script=n.Player.getComponent("Player"),(5==n.SkillEquipped[0]||5==n.SkillEquipped[1])&&100*Math.random()<5){this.Coins=5;var t=this;cc.loader.loadRes("Diamond",cc.SpriteFrame,function(e,i){t.node.getComponent(cc.Sprite).spriteFrame=i})}},onCollisionEnter:function(t,e){t.node.parent==this.player&&(this.player_script.addCoins(this.Coins),this.node.destroy())},update:function(t){var e=this.node.convertToWorldSpaceAR(cc.v2(0,0)),i=n.Player.convertToWorldSpaceAR(cc.v2(0,0)),o=i.sub(e).mag();4!=n.SkillEquipped[0]&&4!=n.SkillEquipped[1]||o<150&&(this.node.x+=(i.x-e.x)/10,this.node.y+=(i.y-e.y)/10)}}),cc._RF.pop()},{Global:"Global"}],ControlPanel:[function(t,e,i){"use strict";cc._RF.push(e,"f196bfeJaZNKJcqnbuRZAdc","ControlPanel"),cc.Class({extends:cc.Component,properties:{Player:{default:null,type:cc.Node},GoButton:{default:null,type:cc.Node}},start:function(){this.player_script=this.Player.getComponent("Player"),this.GoButton.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.GoButton.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.GoButton.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.is_key_down=!1},update:function(t){this.is_key_down?this.player_script.onKeyDown():this.player_script.onKeyUp()},onTouchStart:function(t){this.GoButton.scale-=.1,this.is_key_down=!0},onTouchEnd:function(t){this.GoButton.scale+=.1,this.is_key_down=!1}}),cc._RF.pop()},{}],Egg:[function(t,e,i){"use strict";cc._RF.push(e,"984d1ClB7NN/r+rdmQMHb6q","Egg");var n=t("Global");cc.Class({extends:cc.Component,properties:{IntervaSpace:1,Player:{default:null,type:cc.Component}},start:function(){},update:function(t){this.node.x-=this.Player.getComponent("Player").Speed,this.node.x<-cc.winSize.width/2-100&&this.node.destroy()},onCollisionEnter:function(t,e){n.PlayerScript.changeMode(1+Math.round(3*Math.random())),this.node.destroy()}}),cc._RF.pop()},{Global:"Global"}],EnemyLayer:[function(t,e,i){"use strict";cc._RF.push(e,"50474kkZhxK64yOlxJNOTHt","EnemyLayer");var n=t("Global");cc.Class({extends:cc.Component,properties:{Warning:{default:null,type:cc.Node},WarningAudio:{default:null,type:cc.AudioClip},Enemies:{default:[],type:cc.Prefab}},start:function(){this.player_script=n.PlayerScript,this.enemy_mode=0,this.loop_index=0,this.Warning.active=!1,this.warning_time=0},update:function(t){n.PlayerScript.Died||(this.loop_index>600&&(this.spanNewEnemy(),this.loop_index=0),this.loop_index++,0==this.warning_time&&this.closeWarning(),this.warning_time--)},spanNewEnemy:function(){var t=null;if(this.player_script.getMetre()>1e3&&100*Math.random()<50)(t=cc.instantiate(this.Enemies[0])).setPosition(500,120),this.showWarning(100);else if(this.player_script.getMetre()>2e3&&100*Math.random()<50)(t=cc.instantiate(this.Enemies[1])).setPosition(350,400),this.showWarning(400);else if(this.player_script.getMetre()>4500&&100*Math.random()<50){t=cc.instantiate(this.Enemies[2]);var e=365-200*Math.random();t.setPosition(200,e),this.showWarning(e)}t&&this.scheduleOnce(function(){this.node.addChild(t)},3)},showWarning:function(t){this.Warning.y=t,this.Warning.active=!0,this.scheduleOnce(this.closeWarning,2),cc.audioEngine.playEffect(this.WarningAudio,!1)},closeWarning:function(){this.Warning.active=!1}}),cc._RF.pop()},{Global:"Global"}],EquipPanel:[function(t,e,i){"use strict";cc._RF.push(e,"fcf7auI/QhJY67rNNIGk1Gb","EquipPanel");var n=t("Global");cc.Class({extends:cc.Component,properties:{Icons:{default:[],type:cc.Node},ClearButton:{default:null,type:cc.Node}},start:function(){this.icons_01=this.Icons[0].getComponent("Icons"),this.icons_02=this.Icons[1].getComponent("Icons"),this.ClearButton.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.ClearButton.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},onDestroy:function(){this.ClearButton.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.ClearButton.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},update:function(t){this.icons_01.showIcon(n.SkillEquipped[0]),this.icons_02.showIcon(n.SkillEquipped[1])},onTouchStart:function(t){n.SkillEquipped[0]=-1,n.SkillEquipped[1]=-1,t.target.scale=.9},onTouchEnd:function(t){t.target.scale=1}}),cc._RF.pop()},{Global:"Global"}],Fire:[function(t,e,i){"use strict";cc._RF.push(e,"f76d2LiGs5F94rXqEInNA8M","Fire");var n=t("Global");cc.Class({extends:cc.Component,properties:{IntervaSpace:1,Player:{default:null,type:cc.Component},Stone:{default:null,type:cc.Component},Fires:{default:[],type:cc.Component}},start:function(){this.node.angle=360*Math.random(),this.Fires[0].node.scaleX=.7,this.Fires[1].node.scaleX=.7,this.Fires[0].node.scaleY=1.2,this.Fires[1].node.scaleY=1.2,100*Math.random()<30&&(this.Fires[0].node.scale=.7,this.Fires[1].node.scale=.7),3!=n.SkillEquipped[0]&&3!=n.SkillEquipped[1]||(this.Fires[0].node.scale*=.9,this.Fires[1].node.scale*=.9),this.isRotate=!1,100*Math.random()<30&&(this.isRotate=!0),this.Fires[0].onCollisionEnter=this.Fires[1].onCollisionEnter=function(t,e){n.PlayerScript.toDie(e.node.parent)}},update:function(t){this.Stone.node.angle-=10,this.isRotate&&this.node.angle--,this.node.x-=this.Player.getComponent("Player").Speed,this.node.x<-cc.winSize.width/2-100&&this.node.destroy()}}),cc._RF.pop()},{Global:"Global"}],GameMain:[function(t,e,i){"use strict";cc._RF.push(e,"a8573HB4tlMa4D64Vi+iT/z","GameMain");var n=t("Global");cc.Class({extends:cc.Component,properties:{Player:{default:null,type:cc.Node},BackgroundMusic:{default:[],type:cc.AudioClip}},start:function(){n.Player=this.Player,n.PlayerScript=this.Player.getComponent("Player"),cc.director.getCollisionManager().enabled=!0},update:function(t){n.Score=this.Player.getComponent("Player").getMetre(),n.Coins=this.Player.getComponent("Player").getCoins()}}),cc._RF.pop()},{Global:"Global"}],GameScene:[function(t,e,i){"use strict";cc._RF.push(e,"80078fQ3CpJg4UBrPGZUsw9","GameScene");var n=t("Global");cc.Class({extends:cc.Component,properties:{MainMenuButton:{default:null,type:cc.Node},ReStartButton:{default:null,type:cc.Node},ControlPanel:{default:null,type:cc.Node},StorePanel:{default:null,type:cc.Node}},start:function(){this.MainMenuButton.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.MainMenuButton.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.ReStartButton.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.ReStartButton.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},onDestroy:function(){this.MainMenuButton.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.MainMenuButton.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.ReStartButton.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.ReStartButton.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},update:function(t){1==n.PlayerScript.GameOver?(this.ControlPanel.active=!1,this.StorePanel.active=!0):(this.ControlPanel.active=!0,this.StorePanel.active=!1)},onTouchStart:function(t){switch(t.target){case this.MainMenuButton:cc.director.loadScene("MainScene");break;case this.ReStartButton:cc.director.loadScene("GameScene")}t.target.scale=.9},onTouchEnd:function(t){t.target.scale=1}}),cc._RF.pop()},{Global:"Global"}],GameUI:[function(t,e,i){"use strict";cc._RF.push(e,"e26b99D6VBA2qIMbyu5u7Yb","GameUI");var n=t("Global");cc.Class({extends:cc.Component,properties:{Player:{default:null,type:cc.Node},ScoreeLabel:{default:null,type:cc.Label},CoinsLabel:{default:null,type:cc.Label},OverWindow:{default:null,type:cc.Node}},start:function(){this.player_script=this.Player.getComponent("Player")},update:function(t){this.ScoreeLabel.string=n.Score,this.CoinsLabel.string=n.Coins,1==this.player_script.GameOver?this.OverWindow.active=!0:this.OverWindow.active=!1}}),cc._RF.pop()},{Global:"Global"}],Global:[function(t,e,i){"use strict";cc._RF.push(e,"bd53c1HqiNBR7npuxtiFFuH","Global"),e.exports={Player:null,PlayerScript:null,Score:0,Coins:0,SkillBougth:[!1,!1,!1,!1,!1,!1,!1,!1,!1],SkillEquipped:[-1,-1]},cc._RF.pop()},{}],Icons:[function(t,e,i){"use strict";cc._RF.push(e,"f2292rEfhREU77Ilf/91Pk4","Icons");t("Global");cc.Class({extends:cc.Component,properties:{Id:0,Icons:{default:[],type:cc.Node}},start:function(){},update:function(t){},showIcon:function(t){for(var e=0;e<this.Icons.length;e++)this.Icons[e].active=!1;-1!=t&&(this.Icons[t].active=!0)}}),cc._RF.pop()},{Global:"Global"}],MainScene:[function(t,e,i){"use strict";cc._RF.push(e,"015302aR1tPt4YlpuCDIGC4","MainScene"),cc.Class({extends:cc.Component,properties:{StartButton:{default:null,type:cc.Node},ScoreButton:{default:null,type:cc.Node},MoreButton:{default:null,type:cc.Node},Background:{default:[],type:cc.Node},MenuPanel:{default:null,type:cc.Node},LoadingLabel:{default:null,type:cc.Label}},start:function(){this.Background[1].x=this.Background[0].x+this.Background[0].width*this.Background[0].scale,this.StartButton.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.StartButton.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.ScoreButton.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.ScoreButton.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.MoreButton.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.MoreButton.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},update:function(t){for(var e=0;e<2;e++)this.Background[e].x-=3,this.Background[e].x<-this.Background[e].width*this.Background[e].scale&&(this.Background[e].x+=this.Background[e].width*this.Background[e].scale*2)},onTouchStart:function(t){switch(t.target){case this.StartButton:this.MenuPanel.active=!1,this.LoadingLabel.node.active=!0,cc.director.loadScene("GameScene")}t.target.scale=.9},onTouchEnd:function(t){t.target.scale=1}}),cc._RF.pop()},{}],MaxDragon:[function(t,e,i){"use strict";cc._RF.push(e,"8cbdfripfRICauEfdgnCvZt","MaxDragon");var n=t("Global");cc.Class({extends:cc.Component,properties:{Dragon:{default:null,type:cc.Component},Laser:{default:null,type:cc.Component},Audio:{default:null,type:cc.AudioClip}},onLoad:function(){},start:function(){this.Laser.node.active=!1,this.dragon_anim=this.Dragon.getComponent(cc.Animation),this.dragon_animState=this.dragon_anim.play("Dragon"),this.laser_anim=this.Laser.getComponent(cc.Animation),this.laser_animState=this.laser_anim.play("Laser"),this.Laser.onCollisionEnter=function(t,e){n.PlayerScript.toDie(e.node.parent)}},update:function(t){this.dragon_animState.time>=this.dragon_animState.duration&&1!=this.Laser.node.active&&(this.Laser.node.active=!0,cc.audioEngine.playEffect(this.Audio,!1)),this.laser_animState.time>=this.laser_animState.duration&&this.node.destroy()}}),cc._RF.pop()},{Global:"Global"}],Player_FlyDragon:[function(t,e,i){"use strict";cc._RF.push(e,"bb107UppqNIxr7bP+1xju66","Player_FlyDragon"),cc.Class({extends:cc.Component,properties:{Player:{default:null,type:cc.Node},StartLine:0,GroundLine:0,SkyLine:0},onLoad:function(){this.power=.5,this.gravity=.3,this.move_vector=cc.v2(0,0),this.on_key_down=!1,this.anim=null,this.slow_down=!1},start:function(){this.anim=this.getComponent(cc.Animation),this.anim.play("Down")},update:function(t){this.on_key_down?("Down"==this.anim.currentClip.name&&(this.slow_down=!0),"Fly"!=this.anim.currentClip.name&&this.anim.play("Fly"),this.move_vector.y+=this.power-this.gravity):"Run"!=this.anim.currentClip.name&&("Down"!=this.anim.currentClip.name&&this.anim.play("Down"),this.move_vector.y-=this.gravity,this.slow_down=!1),this.Player.y<this.GroundLine&&("Run"!=this.anim.currentClip.name&&this.anim.play("Run"),this.Player.y=this.GroundLine,this.move_vector.y=0,this.slow_down=!1,this.on_key_down=!1),this.Player.y>this.SkyLine&&(this.Player.y=this.SkyLine,this.slow_down=!0),this.slow_down&&("Fly"!=this.anim.currentClip.name&&this.anim.play("Fly"),this.move_vector.y=-.5),this.Player.x+=this.move_vector.x,this.Player.y+=this.move_vector.y},onKeyDown:function(){this.on_key_down=!0},onKeyUp:function(){this.on_key_down=!1}}),cc._RF.pop()},{}],Player_HangGlider:[function(t,e,i){"use strict";cc._RF.push(e,"2a91dMTc9FK+4TRXjuAyCF1","Player_HangGlider"),cc.Class({extends:cc.Component,properties:{Player:{default:null,type:cc.Node},StartLine:0,GroundLine:0,SkyLine:0},onLoad:function(){this.power=1,this.gravity=.3,this.move_vector=cc.v2(0,0),this.on_key_down=!1,this.anim=null,this._timer=0},start:function(){this.anim=this.getComponent(cc.Animation),this.anim.play("Down")},update:function(t){this.on_key_down&&this._timer++,this._timer>10&&(this.on_key_down=!1,this._timer=0),this.on_key_down&&"Fly"!=this.anim.currentClip.name&&(this._timer=0,this.move_vector.y=0),this.on_key_down?("Fly"!=this.anim.currentClip.name&&this.anim.play("Fly"),this.move_vector.y+=this.power-this.gravity):"Run"!=this.anim.currentClip.name&&("Down"!=this.anim.currentClip.name&&this.anim.play("Down"),this.move_vector.y-=this.gravity),this.Player.y<this.GroundLine&&("Run"!=this.anim.currentClip.name&&this.anim.play("Run"),this.Player.y=this.GroundLine,this.move_vector.y=0),this.Player.y>this.SkyLine&&(this.Player.y=this.SkyLine,this.move_vector.y=-1),this.Player.x+=this.move_vector.x,this.Player.y+=this.move_vector.y},onKeyDown:function(){this.on_key_down=!0},onKeyUp:function(){this.on_key_down=!1}}),cc._RF.pop()},{}],Player_LongDragon:[function(t,e,i){"use strict";cc._RF.push(e,"c5a69mbEmtCmok8Zlzlyq5W","Player_LongDragon"),cc.Class({extends:cc.Component,properties:{Player:{default:null,type:cc.Node},StartLine:0,GroundLine:0,SkyLine:0},onLoad:function(){this.power=.5,this.gravity=.3,this.move_vector=cc.v2(0,0),this.on_key_down=!1,this.anim=null},start:function(){this.anim=this.getComponent(cc.Animation),this.anim.play("Fly")},update:function(t){this.on_key_down?("Down"!=this.anim.currentClip.name&&this.anim.play("Down"),this.move_vector.y-=this.gravity):("Fly"!=this.anim.currentClip.name&&this.anim.play("Fly"),this.move_vector.y+=this.power-this.gravity),this.Player.y<this.GroundLine&&(this.Player.y=this.GroundLine,this.move_vector.y=0),this.Player.y>this.SkyLine&&(this.Player.y=this.SkyLine,this.move_vector.y=0),this.Player.x+=this.move_vector.x,this.Player.y+=this.move_vector.y},onKeyDown:function(){this.on_key_down=!0},onKeyUp:function(){this.on_key_down=!1}}),cc._RF.pop()},{}],Player_Rocket:[function(t,e,i){"use strict";cc._RF.push(e,"7ad35JJKVFFRKUVCN8mZ09K","Player_Rocket");var n=t("Global");cc.Class({extends:cc.Component,properties:{Player:{default:null,type:cc.Node},StartLine:0,GroundLine:0,SkyLine:0,FangHuZhao:{default:null,type:cc.Node}},onLoad:function(){this.power=.5,this.gravity=.3,this.move_vector=cc.v2(0,0),this.on_key_down=!1,this.anim=null},start:function(){this.anim=this.getComponent(cc.Animation),this.anim.play("Down")},update:function(t){1!=this.Player.getComponent("Player").Died?(this.on_key_down?("Fly"!=this.anim.currentClip.name&&this.anim.play("Fly"),this.move_vector.y+=this.power-this.gravity,7!=n.SkillEquipped[0]&&7!=n.SkillEquipped[1]||(this.move_vector.y+=.25)):"Run"!=this.anim.currentClip.name&&("Down"!=this.anim.currentClip.name&&this.anim.play("Down"),this.move_vector.y-=this.gravity,6!=n.SkillEquipped[0]&&6!=n.SkillEquipped[1]||(this.move_vector.y-=.15)),this.Player.y<this.GroundLine&&("Run"!=this.anim.currentClip.name&&this.anim.play("Run"),this.Player.y=this.GroundLine,this.move_vector.y=0),this.Player.y>this.SkyLine&&(this.Player.y=this.SkyLine,this.move_vector.y=-1),this.Player.x+=this.move_vector.x,this.Player.y+=this.move_vector.y,this.FangHuZhao.active=!1,1==n.PlayerScript.FangHuZhao&&("Run"!=this.anim.currentClip.name&&"Fly"!=this.anim.currentClip.name&&"Down"!=this.anim.currentClip.name||(this.FangHuZhao.active=!0))):this.Player.y<=this.GroundLine?("Died"!=this.anim.currentClip.name&&this.anim.play("Died"),this.Player.y=this.GroundLine,this.move_vector.y=0,this.Player.getComponent("Player").Speed>0&&(this.Player.getComponent("Player").Speed-=.1)):("Fire"!=this.anim.currentClip.name&&this.anim.play("Fire"),this.move_vector.y-=this.gravity,this.Player.y+=this.move_vector.y)},onKeyDown:function(){this.on_key_down=!0},onKeyUp:function(){this.on_key_down=!1}}),cc._RF.pop()},{Global:"Global"}],Player_WildBoard:[function(t,e,i){"use strict";cc._RF.push(e,"3b9cahGX/9KyoyR/LuKCAMK","Player_WildBoard"),cc.Class({extends:cc.Component,properties:{Player:{default:null,type:cc.Node},StartLine:0,GroundLine:0,SkyLine:0},onLoad:function(){this.power=9.3,this.gravity=.3,this.move_vector=cc.v2(0,0),this.on_key_down=!1,this.anim=null,this.animState=null,this.player_speed=0},start:function(){this.anim=this.getComponent(cc.Animation),this.animState=this.anim.play("Down"),this.player_speed=this.Player.getComponent("Player").Speed},update:function(t){this.on_key_down&&"Run"==this.anim.currentClip.name?("Fly"!=this.anim.currentClip.name&&(this.animState=this.anim.play("Fly")),this.move_vector.y+=this.power-this.gravity):"Fly"==this.anim.currentClip.name&&this.animState.time>=this.animState.duration&&("Down"!=this.anim.currentClip.name&&this.anim.play("Down"),this.move_vector.y-=this.gravity,this.on_key_down=!1),this.move_vector.y-=this.gravity,"Fly"==this.anim.currentClip.name?this.Player.getComponent("Player").Attack=!0:this.Player.getComponent("Player").Attack=!1,this.Player.y<this.GroundLine&&("Run"!=this.anim.currentClip.name&&this.anim.play("Run"),this.Player.y=this.GroundLine,this.move_vector.y=0),this.Player.y>this.SkyLine&&(this.Player.y=this.SkyLine,this.move_vector.y=-1),this.Player.x+=this.move_vector.x,this.Player.y+=this.move_vector.y},onKeyDown:function(){this.on_key_down=!0},onKeyUp:function(){this.on_key_down=!1},onCollisionEnter:function(t,e){1==this.Player.getComponent("Player").Attack&&"Fire"==t.node.parent.name&&t.node.parent.destroy()},onDisable:function(){this.Player.getComponent("Player").Attack=!1}}),cc._RF.pop()},{}],Player:[function(t,e,i){"use strict";cc._RF.push(e,"7638cRLteFKCJlH8XfRRwTh","Player");var n=t("Global");cc.Class({extends:cc.Component,properties:{Speed:3,Gravity:5,RocketPower:10,Modes:{default:[],type:cc.Node},Attack:!1,Died:!1,GameOver:!1,FangHuZhao:!1,TNT_State:!1,TNT:{default:null,type:cc.Prefab},Bomb_State:!1,Bomb:{default:null,type:cc.Prefab}},onLoad:function(){this.player_mode=0,this.mode_ins=null,this.mode_script=null,this.animation_state="Run",this.on_key_down=!1,this.hang_glider_timer=0,this.distance=0,this.coins=0,this.ground_line=this.node.y,this.sky_line=400,this.start_line=-70,this.move_vector=cc.v2(0,0),this.attack_speed=0,this.move_x=10,this.move_y=0,this.jump_power=0,this.anim=null,this.tnt_anim=null},start:function(){this.changeMode(0),0!=n.SkillEquipped[0]&&0!=n.SkillEquipped[1]||(this.TNT_State=!0),8!=n.SkillEquipped[0]&&8!=n.SkillEquipped[1]||this.changeMode(1+Math.round(3*Math.random())),9!=n.SkillEquipped[0]&&9!=n.SkillEquipped[1]||(this.FangHuZhao=!0),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.keyboard_onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.keyboard_onKeyUp,this)},onDestroy:function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.keyboard_onKeyDown,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.keyboard_onKeyUp,this)},update:function(t){this.node.x<this.start_line&&(this.node.x+=3),this.distance+=this.Speed,this.Attack&&this.Speed<10?(this.attack_speed+=.2,this.Speed+=.2):this.attack_speed>0&&(this.attack_speed-=.2,this.Speed-=.2),this.Speed<=0&&(this.Speed=0,1==this.TNT_State?null==this.tnt_anim&&(this.tnt_anim=cc.instantiate(this.TNT),this.tnt_anim.setPosition(-110,500),this.node.parent.addChild(this.tnt_anim)):0==this.TNT_State&&(this.tnt_anim=!1),0==this.TNT_State&&0==this.Bomb_State&&this.toGameOver())},keyboard_onKeyDown:function(t){t.keyCode==cc.macro.KEY.space&&1!=this.on_key_down&&this.onKeyDown()},keyboard_onKeyUp:function(t){t.keyCode==cc.macro.KEY.space&&this.onKeyUp()},onKeyDown:function(){this.on_key_down=!0,this.mode_script.onKeyDown()},onKeyUp:function(){this.on_key_down=!1,this.mode_script.onKeyUp()},getMetre:function(){return Math.round(this.distance/10)},addCoins:function(t){this.coins+=t},getCoins:function(){return this.coins},toDie:function(t){1!=this.Died&&1!=this.Attack&&(0!=this.player_mode?(this.changeMode(0),t.destroy()):1==this.FangHuZhao?(cc.log(this.FangHuZhao),this.FangHuZhao=!1,t.destroy()):this.Died=!0)},changeMode:function(t){if(1!=this.Died){if(0!=t)for(;this.player_mode==t;)t=1+Math.round(3*Math.random());this.player_mode=t;for(var e=0;e<this.Modes.length;e++)this.Modes[e].active=!1;switch(this.mode_ins=this.Modes[t],t){case 0:this.mode_script=this.mode_ins.getComponent("Player_Rocket");break;case 1:this.mode_script=this.mode_ins.getComponent("Player_HangGlider");break;case 2:this.mode_script=this.mode_ins.getComponent("Player_FlyDragon");break;case 3:this.mode_script=this.mode_ins.getComponent("Player_LongDragon");break;case 4:this.mode_script=this.mode_ins.getComponent("Player_WildBoard")}this.mode_script.Player=this.node,this.mode_script.StartLine=this.start_line,this.mode_script.GroundLine=this.ground_line,this.mode_script.SkyLine=this.sky_line,this.on_key_down?this.mode_script.onKeyDown():this.mode_script.onKeyUp(),this.mode_ins.active=!0}},toGameOver:function(){this.GameOver=!0}}),cc._RF.pop()},{Global:"Global"}],PropsLayer:[function(t,e,i){"use strict";cc._RF.push(e,"614e5EpmktGNJUdb5y74aQy","PropsLayer"),cc.Class({extends:cc.Component,properties:{Player:{default:null,type:cc.Component},Fire:{default:null,type:cc.Prefab},Egg:{default:null,type:cc.Prefab},CoinsGroup:{default:null,type:cc.Prefab}},start:function(){this.player_script=this.Player.getComponent("Player"),this.interval_spacing=500,this.interval_index=0,this.prop_position=cc.v2(0,0);for(var t=0;t<3;t++)this.prop_position.x+=this.interval_spacing,this.spanNewProp()},update:function(t){this.interval_index+=this.Player.getComponent("Player").Speed,this.interval_index>this.interval_spacing&&(this.spanNewProp(),this.interval_index=0)},spanNewProp:function(){var t=null;this.player_script.getMetre()>200&&100*Math.random()<20?(t=cc.instantiate(this.CoinsGroup)).getComponent("CoinsGroup").Player=this.Player:this.player_script.getMetre()>500&&100*Math.random()<10?(t=cc.instantiate(this.Egg)).getComponent("Egg").Player=this.Player:(t=cc.instantiate(this.Fire)).getComponent("Fire").Player=this.Player,this.prop_position.y=150+250*Math.random(),t.setPosition(this.prop_position),this.node.addChild(t)}}),cc._RF.pop()},{}],RollingStone:[function(t,e,i){"use strict";cc._RF.push(e,"1b5d4xBR7pDOoz7d3ANZB/e","RollingStone");var n=t("Global");cc.Class({extends:cc.Component,properties:{IntervaSpace:1,Player:{default:null,type:cc.Component}},start:function(){this.gravity=.3,this.speed=n.PlayerScript.Speed,this.move_vector=cc.v2(0,0)},update:function(t){this.node.angle+=3,this.move_vector.x=-this.speed,this.move_vector.y-=this.gravity,this.node.y<100&&(this.node.y=100,this.move_vector.y*=-.7,1!=n.SkillEquipped[0]&&1!=n.SkillEquipped[1]||(this.move_vector.y*=.5)),this.node.x+=this.move_vector.x,this.node.y+=this.move_vector.y,this.node.x<-cc.winSize.width/2-100&&this.node.destroy()},onCollisionEnter:function(t,e){n.PlayerScript.toDie(this.node)}}),cc._RF.pop()},{Global:"Global"}],ScrollBar:[function(t,e,i){"use strict";cc._RF.push(e,"241c5zhyiRMvLw66iZVfiO0","ScrollBar"),cc.Class({extends:cc.Component,properties:{Bar:{default:null,type:cc.Node},Background:{default:null,type:cc.Node}},start:function(){},setProgress:function(t){this.Bar.y=-(this.Background.height-this.Bar.height)*t}}),cc._RF.pop()},{}],SkillList:[function(t,e,i){"use strict";cc._RF.push(e,"2a0d2mSa6pLJoDytPgJiUng","SkillList"),cc.Class({extends:cc.Component,properties:{SkillPanels:{default:[],type:cc.Node},ScrollBar:{default:null,type:cc.Node}},start:function(){this.start_line=0,this.end_line=675,this.list_y=new Array,this.list_height=new Array;for(var t=0;t<this.SkillPanels.length;t++)this.list_y[t]=-100*t,this.list_height[t]=100;this.ScrollBar_ins=this.ScrollBar.getComponent("ScrollBar"),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.touuch_postions=[cc.v2(0,0),cc.v2(0,0)],this.drag_speed=0},onDestroy:function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this)},update:function(t){this.drag_speed+=(this.touuch_postions[1].y-this.touuch_postions[0].y-this.drag_speed)/5,this.list_y[0]+=this.drag_speed,this.list_y[0]<this.start_line&&(this.list_y[0]=this.start_line),this.list_y[0]>this.end_line&&(this.list_y[0]=this.end_line),this.touuch_postions[0].x=this.touuch_postions[1].x,this.touuch_postions[0].y=this.touuch_postions[1].y;for(var e=0;e<this.SkillPanels.length;e++)e>0&&(this.list_y[e]=this.list_y[e-1]-this.list_height[e-1]),this.SkillPanels[e].y=this.list_y[e];this.ScrollBar.getComponent("ScrollBar").setProgress(this.getProgress())},onTouchStart:function(t){this.touuch_postions[0].x=t.getLocationX(),this.touuch_postions[0].y=t.getLocationY(),this.touuch_postions[1].x=t.getLocationX(),this.touuch_postions[1].y=t.getLocationY()},onTouchEnd:function(t){this.touuch_postions[0].x=t.getLocationX(),this.touuch_postions[0].y=t.getLocationY(),this.touuch_postions[1].x=t.getLocationX(),this.touuch_postions[1].y=t.getLocationY()},onTouchMove:function(t){this.touuch_postions[1].x=t.getLocationX(),this.touuch_postions[1].y=t.getLocationY()},getProgress:function(){return this.list_y[0]/(this.end_line-this.start_line)}}),cc._RF.pop()},{}],SkillSellPanel:[function(t,e,i){"use strict";cc._RF.push(e,"2777fgKHzVJ9qbkH6kDmR4T","SkillSellPanel");var n=t("Global");cc.Class({extends:cc.Component,properties:{Id:0,Price:0,BuyButton:{default:null,type:cc.Node},EquipButton:{default:null,type:cc.Node}},start:function(){this.BuyButton.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.BuyButton.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.EquipButton.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.EquipButton.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},onDestroy:function(){this.BuyButton.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.BuyButton.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.EquipButton.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.EquipButton.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},update:function(t){1==n.SkillBougth[this.Id]?(this.BuyButton.active=!1,this.EquipButton.active=!0):(this.BuyButton.active=!0,this.EquipButton.active=!1)},onTouchStart:function(t){switch(t.target){case this.BuyButton:n.Coins>this.Price&&(n.Coins-=this.Price,n.SkillBougth[this.Id]=!0),cc.log(this.Price),n.SkillBougth[this.Id]=!0;break;case this.EquipButton:-1==n.SkillEquipped[0]?n.SkillEquipped[0]=this.Id:n.SkillEquipped[0]!=this.Id&&n.SkillEquipped[1]!=this.Id&&(n.SkillEquipped[1]=n.SkillEquipped[0],n.SkillEquipped[0]=this.Id)}t.target.scale=.9},onTouchEnd:function(t){t.target.scale=1}}),cc._RF.pop()},{Global:"Global"}],StorePanel:[function(t,e,i){"use strict";cc._RF.push(e,"79590Y4fixLK6iNXomgjuts","StorePanel");t("Global");cc.Class({extends:cc.Component,properties:{PlayButton:{default:null,type:cc.Node}},start:function(){this.PlayButton.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.PlayButton.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},onDestroy:function(){this.PlayButton.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.PlayButton.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},update:function(t){},onTouchStart:function(t){switch(t.target){case this.PlayButton:cc.director.loadScene("GameScene")}t.target.scale=.9},onTouchEnd:function(t){t.target.scale=1}}),cc._RF.pop()},{Global:"Global"}],TNT:[function(t,e,i){"use strict";cc._RF.push(e,"90090eprAJI8JueBDoYr9IT","TNT");var n=t("Global");cc.Class({extends:cc.Component,properties:{Gravity:.5,GroundLine:80,Power:cc.v2(10,100),Audio:{default:null,type:cc.AudioClip}},start:function(){this.move_y=0,this.anim=this.getComponent(cc.Animation),this.animState=this.anim.play("Fire"),this.scheduleOnce(function(){cc.audioEngine.playEffect(this.Audio,!1)},.5)},update:function(t){this.move_y-=this.Gravity,this.node.y+=this.move_y,this.node.y<=this.GroundLine&&(this.node.y=this.GroundLine,"Blast"!=this.anim.currentClip.name&&(this.anim.play("Blast"),n.PlayerScript.Speed=this.Power.x,n.Player.y+=this.Power.y)),"Blast"==this.anim.currentClip.name&&this.animState.time>=this.animState.duration&&(n.PlayerScript.TNT_State=!1,this.node.destroy())}}),cc._RF.pop()},{Global:"Global"}],Twister:[function(t,e,i){"use strict";cc._RF.push(e,"09ad7we6hdLT4gqJMBxEt50","Twister");var n=t("Global");cc.Class({extends:cc.Component,properties:{IntervaSpace:1,Player:{default:null,type:cc.Component},Audio:{default:null,type:cc.AudioClip}},start:function(){this.stay_time=0,this.scheduleOnce(function(){cc.audioEngine.playEffect(this.Audio,!1)},.5)},update:function(t){this.node.x-=2*n.PlayerScript.Speed,(2==n.SkillEquipped[0]||2==n.SkillEquipped[1])&&this.node.x<200&&(this.node.x+=n.PlayerScript.Speed),this.node.x<-cc.winSize.width/2-500&&this.node.destroy(),this.stay_time>0?(n.PlayerScript.onKeyDown(),n.Player.y+=2):0==this.stay_time&&n.PlayerScript.onKeyUp(),this.stay_time--},onCollisionStay:function(t,e){this.stay_time=15},onCollisionExit:function(t,e){}}),cc._RF.pop()},{Global:"Global"}]},{},["Background","Coin","CoinsGroup","ControlPanel","Egg","EnemyLayer","EquipPanel","Fire","GameMain","GameScene","GameUI","Global","Icons","MainScene","MaxDragon","Player","Player_FlyDragon","Player_HangGlider","Player_LongDragon","Player_Rocket","Player_WildBoard","PropsLayer","RollingStone","ScrollBar","SkillList","SkillSellPanel","StorePanel","TNT","Twister"]);